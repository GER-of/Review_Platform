{% extends 'base.html' %}
{% load review_tags %}

{% block title %}Все отзывы{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="{% url 'home' %}">Главная</a> / Все отзывы
</div>

<div class="page-header">
    <h1>Все отзывы</h1>
    <p class="subtitle">{{ reviews.count|pluralize_reviews }} на сайте</p>
</div>

<div class="all-reviews-page">
    {% for review in reviews %}
    <div class="review-card-full">
        <div class="review-with-avatar">
            <div class="review-avatar">
                <img src="{% user_avatar review.user %}" alt="{{ review.author_name }}" class="avatar-img">
            </div>
            <div class="review-content-wrapper">
                <div class="review-header">
                    <div class="review-author-info">
                        <span class="review-author">{{ review.author_name }}</span>
                        <span class="review-separator">•</span>
                        <a href="{% url 'course_detail' review.course.id %}" class="review-course-link">
                            {{ review.course.name }}
                        </a>
                    </div>
                    <div class="review-rating">
                        {% for i in "12345" %}
                            {% if forloop.counter <= review.rating %}
                                <span class="star filled">★</span>
                            {% else %}
                                <span class="star">☆</span>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <p class="review-text">{{ review.text }}</p>
                <div class="review-meta">
                    <span class="platform-badge-small">{{ review.course.platform.name }}</span>
                    <span class="review-date">{{ review.created_at|date:"d.m.Y" }}</span>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="no-data">Отзывов пока нет</div>
    {% endfor %}
</div>
{% endblock %}
